---
phase: 1
plan: 1
wave: 1
title: Delete demo pages and fix role mapping
---

# Plan 01-01: Delete Demo Pages & Fix Role Mapping

**Phase:** 1 — Quick Fixes
**Goal:** Remove dead code and fix role mapping gap
**Requirements:** CLN-01, CLN-02, AUTH-01

## Tasks

### Task 1: Delete 9 dead page files
Delete these files from `src/pages/`:
- `CalendarDemo.tsx`
- `WeeklyCalendarDemo.tsx`
- `OrchestraEnrollmentDemo.tsx`
- `TeacherManagement.tsx`
- `TeacherScheduling.tsx`
- `StudentLessons.tsx`
- `BagrutManagement.tsx`
- `StudentsGrid.tsx`
- `OrchestraDetails.tsx` (old version, replaced by features/orchestras/details/)

### Task 2: Delete dead component
Delete `src/components/schedule/StudentCalendarDemo.tsx`

### Task 3: Clean barrel export
In `src/components/index.ts`, remove the `StudentCalendarDemo` export (line ~27)

### Task 4: Verify no broken imports
Run `npm run build` to confirm no files imported the deleted modules

### Task 5: Fix ProtectedRoute role mapping
In `src/App.tsx` (~line 80), add `'מדריך הרכב': 'ensemble-director'` to the `roleMap` object

### Task 6: Check Sidebar role mapping
In `src/components/Sidebar.tsx`, check `getUserRoles()` for the same missing mapping and add if present

### Task 7: Build verification
Run `npm run build` to confirm clean build with all changes

## Verification

- [ ] 10 files deleted (9 pages + 1 component)
- [ ] Barrel export cleaned
- [ ] `npm run build` passes
- [ ] ensemble-director role mapped in App.tsx
- [ ] Sidebar role mapping checked/fixed

## Commit
"Delete 10 unused demo/legacy pages and fix ensemble-director role mapping"
