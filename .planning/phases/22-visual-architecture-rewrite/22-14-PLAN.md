---
phase: 22-visual-architecture-rewrite
plan: 14
type: execute
wave: 4
depends_on: ["22-09", "22-13"]
files_modified:
  - src/components/schedule/WeeklyStudentCalendar.tsx
  - src/components/schedule/TeacherWeeklyCalendar.tsx
  - src/components/schedule/TeacherScheduleDashboard.tsx
  - src/components/schedule/TeacherScheduleCalendar.tsx
  - src/components/schedule/StudyDayTemplateManager.tsx
  - src/components/schedule/MobileScheduleInterface.tsx
  - src/components/schedule/ScheduleTimeSlot.tsx
  - src/components/schedule/SimpleWeeklyGrid.tsx
  - src/components/navigation/QuickActions.tsx
  - src/components/navigation/MobileNavigation.tsx
  - src/components/navigation/Breadcrumb.tsx
  - src/components/modals/AddTeacherModal.tsx
  - src/components/teacher/TeacherTimeBlocks.tsx
  - src/components/teacher/TimeBlockCard.tsx
  - src/components/teacher/TimeBlockForm.tsx
  - src/components/teacher/TeacherProfile.tsx
  - src/components/profile/TeacherStudentsTab.tsx
  - src/components/profile/TeacherAttendanceTab.tsx
  - src/components/profile/TeacherScheduleTab.tsx
  - src/components/profile/ConductorOrchestrasTab.tsx
  - src/components/profile/GeneralInfoTab.tsx
  - src/components/profile/EnhancedStudentCard.tsx
  - src/components/profile/TheoryTeacherLessonsTab.tsx
  - src/components/attendance/IndividualLessonAttendance.tsx
  - src/components/rehearsal/RehearsalScheduleModal.tsx
  - src/components/rehearsal/RehearsalAttendance.tsx
  - src/components/theory/TheoryLessonScheduler.tsx
  - src/components/theory/TheoryGroupManager.tsx
  - src/components/search/GlobalSearch.tsx
  - src/components/feedback/ProgressIndicators.tsx
  - src/components/feedback/Notifications.tsx
  - src/components/feedback/LoadingStates.tsx
  - src/components/feedback/ErrorState.tsx
  - src/components/examples/FormValidationExample.tsx
  - src/components/accessibility/AccessibilityProvider.tsx
  - src/utils/styleUtils.ts
  - src/App.tsx
autonomous: true

must_haves:
  truths:
    - "Zero lucide-react imports in the ENTIRE src/ directory (no exceptions)"
    - "Zero bg-primary-NNN hardcoded classes in the ENTIRE src/ directory"
    - "Zero rounded-xl/2xl/3xl in the ENTIRE src/ directory (rounded-full preserved)"
    - "App.tsx uses Phosphor icons if any icons are rendered there"
  artifacts:
    - path: "src/components/schedule/TeacherWeeklyCalendar.tsx"
      provides: "Schedule component with Phosphor icons and clean styles"
    - path: "src/components/navigation/QuickActions.tsx"
      provides: "Quick actions with Phosphor icons"
  key_links:
    - from: "src/**/*.tsx"
      to: "@phosphor-icons/react"
      via: "All icon imports use Phosphor exclusively"
      pattern: "@phosphor-icons/react"
---

<objective>
Final comprehensive sweep — migrate ALL remaining components to Phosphor Icons, and catch any surviving hardcoded primary-NNN or excessive rounding. After this plan, the entire codebase is clean: zero lucide-react, zero hardcoded primary colors, zero excessive rounding.

Purpose: This is the cleanup plan that ensures 100% completion. Prior plans targeted specific directories (pages, dashboard, bagrut, features, forms). This plan catches everything remaining — schedule, navigation, teacher, profile, attendance, rehearsal, theory, feedback, search, examples, and utility files.

Output: Complete Phosphor migration and style cleanup across remaining ~37 files
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/22-visual-architecture-rewrite/22-RESEARCH.md
@.planning/phases/22-visual-architecture-rewrite/22-02-SUMMARY.md
@.planning/phases/22-visual-architecture-rewrite/22-09-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Phosphor migration for schedule, navigation, teacher, and profile components</name>
  <files>src/components/schedule/WeeklyStudentCalendar.tsx, src/components/schedule/TeacherWeeklyCalendar.tsx, src/components/schedule/TeacherScheduleDashboard.tsx, src/components/schedule/TeacherScheduleCalendar.tsx, src/components/schedule/StudyDayTemplateManager.tsx, src/components/schedule/MobileScheduleInterface.tsx, src/components/schedule/ScheduleTimeSlot.tsx, src/components/schedule/SimpleWeeklyGrid.tsx, src/components/navigation/QuickActions.tsx, src/components/navigation/MobileNavigation.tsx, src/components/navigation/Breadcrumb.tsx, src/components/modals/AddTeacherModal.tsx, src/components/teacher/TeacherTimeBlocks.tsx, src/components/teacher/TimeBlockCard.tsx, src/components/teacher/TimeBlockForm.tsx, src/components/teacher/TeacherProfile.tsx, src/components/profile/TeacherStudentsTab.tsx, src/components/profile/TeacherAttendanceTab.tsx, src/components/profile/TeacherScheduleTab.tsx, src/components/profile/ConductorOrchestrasTab.tsx, src/components/profile/GeneralInfoTab.tsx, src/components/profile/EnhancedStudentCard.tsx, src/components/profile/TheoryTeacherLessonsTab.tsx</files>
  <action>
For each file:
1. Read and identify ALL `lucide-react` imports
2. Replace with Phosphor equivalents using the icon name mapping from research
3. Update JSX: `<IconName className="w-N h-N" />` → `<IconNameIcon size={N} weight="fill|regular" />`
4. Remove lucide-react import line entirely
5. Also clean any remaining `bg-primary-NNN` or `rounded-xl/2xl/3xl` classes found

**Icon sizing guidance (Claude's discretion):**
- Navigation/toolbar icons: `size={20}`
- Table/list compact icons: `size={16}`
- Button inline icons: `size={16}` or `size={14}`
- Large display icons: `size={24}` or `size={28}`

**Weight guidance:**
- Button icons: `weight="fill"` (strong presence)
- Table row action icons: `weight="regular"` (lighter, less competing with data)
- Navigation icons: `weight="fill"` for active, `weight="regular"` for inactive
- Decorative/informational icons: `weight="regular"`

**RTL directional icons:** Use `mirrored` prop on arrows, chevrons.

**QuickActions.tsx:** Has 4 bg-primary-NNN instances — replace all.
**TeacherTimeBlocks.tsx:** Has 4 bg-primary-NNN instances — replace all.
**TeacherWeeklyCalendar.tsx:** Has 5 bg-primary-NNN and 3 rounded-xl — clean all.
**MobileNavigation.tsx:** Has 3 bg-primary-NNN — replace.
**TeacherProfile.tsx:** Has 4 bg-primary-NNN — replace.
  </action>
  <verify>Run `grep -rn "lucide-react" src/components/schedule/ src/components/navigation/ src/components/teacher/ src/components/profile/ src/components/modals/` — must return ZERO.</verify>
  <done>All schedule, navigation, teacher, profile, and modal components migrated to Phosphor with clean styles.</done>
</task>

<task type="auto">
  <name>Task 2: Phosphor migration for remaining components and final codebase sweep</name>
  <files>src/components/attendance/IndividualLessonAttendance.tsx, src/components/rehearsal/RehearsalScheduleModal.tsx, src/components/rehearsal/RehearsalAttendance.tsx, src/components/theory/TheoryLessonScheduler.tsx, src/components/theory/TheoryGroupManager.tsx, src/components/search/GlobalSearch.tsx, src/components/feedback/ProgressIndicators.tsx, src/components/feedback/Notifications.tsx, src/components/feedback/LoadingStates.tsx, src/components/feedback/ErrorState.tsx, src/components/examples/FormValidationExample.tsx, src/components/accessibility/AccessibilityProvider.tsx, src/utils/styleUtils.ts, src/App.tsx</files>
  <action>
Same process as Task 1 for all remaining files with lucide-react imports.

**styleUtils.ts:** If it has hardcoded primary-NNN values or class references, update them to semantic tokens.

**App.tsx:** Has 1 bg-primary-NNN instance. Replace. If App.tsx has icon imports, migrate to Phosphor.

**feedback/ components:** ProgressIndicators has 4 bg-primary-NNN. LoadingStates has 4 bg-primary-NNN. Replace all.

**After all files are processed, run the FINAL comprehensive check:**
```bash
grep -rn "from 'lucide-react'" src/ --include="*.tsx" --include="*.ts"
grep -rn "bg-primary-[0-9]" src/ --include="*.tsx" --include="*.ts" --include="*.css"
grep -rn "rounded-xl\|rounded-2xl\|rounded-3xl" src/ --include="*.tsx" --include="*.ts"
```

ALL THREE commands must return ZERO results (excluding comments, backup files, and node_modules).

If any remaining files are found, clean them too. This plan must achieve 100% coverage.

**Note on index.css:** The CSS file may have `bg-primary-500` referenced in a comment (Phase 6 note). If it's only in a comment, leave it. If it's an actual CSS rule, remove it.

**Note on backup files:** `src/index.css.full-backup` has 5 bg-primary-NNN references. If this is a backup file, it can be left as-is or deleted.
  </action>
  <verify>
FINAL VERIFICATION (entire codebase):
1. `grep -rn "from 'lucide-react'" src/ --include="*.tsx" --include="*.ts"` — ZERO results
2. `grep -rn "bg-primary-[0-9]" src/ --include="*.tsx" --include="*.ts"` — ZERO results
3. `grep -rn "rounded-xl" src/ --include="*.tsx" --include="*.ts"` — ZERO results
4. `grep -rn "rounded-2xl" src/ --include="*.tsx" --include="*.ts"` — ZERO results
  </verify>
  <done>
100% Phosphor migration complete. Zero lucide-react imports in entire codebase. Zero hardcoded primary-NNN. Zero excessive rounding. The visual architecture rewrite foundation is complete.
  </done>
</task>

</tasks>

<verification>
FINAL COMPREHENSIVE VERIFICATION:
1. `grep -rn "from 'lucide-react'" src/` — ZERO
2. `grep -rn "bg-primary-[0-9]" src/ --include="*.tsx" --include="*.ts"` — ZERO
3. `grep -rn "text-primary-[0-9]" src/ --include="*.tsx" --include="*.ts"` — ZERO
4. `grep -rn "rounded-xl\|rounded-2xl\|rounded-3xl" src/ --include="*.tsx" --include="*.ts"` — ZERO
5. `grep -c "@phosphor-icons/react" src/ -r` — should show 200+ files importing Phosphor
</verification>

<success_criteria>
- ZERO lucide-react imports in entire src/ directory
- ZERO hardcoded primary-NNN color classes in entire src/ directory
- ZERO rounded-xl/2xl/3xl in entire src/ directory (rounded-full preserved)
- All icons use Phosphor with consistent weight and sizing
- styleUtils.ts and App.tsx clean
- The entire codebase uses the unified visual system
</success_criteria>

<output>
After completion, create `.planning/phases/22-visual-architecture-rewrite/22-14-SUMMARY.md`
</output>
