---
phase: 22-visual-architecture-rewrite
plan: 15
type: execute
wave: 5
depends_on: ["22-10", "22-11", "22-12", "22-13", "22-14"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "The app builds successfully with npm run build"
    - "Every page has exactly one identifiable dominant zone"
    - "No page sections are wrapped in Card components (except modals/popovers/dropdowns)"
    - "Table containers have no rounded corners, no shadows, no card wrappers"
    - "A single consistent button color system (black) is used across all pages"
    - "Icon usage follows Phosphor Icons exclusively — no mixed weights or metaphor inconsistencies"
    - "Dashboard uses asymmetric layout with unequal column weights"
    - "List pages: toolbar flush with table, no gap, no hero zone"
    - "Detail pages: identity block + attached tab bar, not gradient banner"
    - "Sidebar is dark charcoal — tonally distinct and structurally anchoring"
    - "The app is not recognizable as a shadcn/ui admin template"
  artifacts: []
  key_links: []
---

<objective>
Final verification checkpoint — confirm build succeeds and all 10 success criteria from the phase goal are met. User visually verifies the transformed application.

Purpose: This is the gate that confirms Phase 22 is complete. Build verification plus visual human review of every page archetype.

Output: Phase 22 declared complete or gaps identified for closure
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ARCHETYPES.md
@.planning/phases/22-visual-architecture-rewrite/22-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run build verification and codebase-wide style audit</name>
  <files></files>
  <action>
Run the following verifications:

1. **Build check:** Note that npm commands may not work on WSL NTFS mount — if they fail, tell user to run from Windows PowerShell. If possible, attempt:
```bash
cd /mnt/c/Users/yona2/Documents/Tenuto.io/Tenuto.io-Frontend && npx tsc --noEmit 2>&1 | head -50
```

2. **Codebase audit — zero-tolerance checks:**
```bash
# ZERO lucide-react imports
grep -rn "from 'lucide-react'" src/ --include="*.tsx" --include="*.ts" | wc -l

# ZERO hardcoded primary-NNN
grep -rn "bg-primary-[0-9]\|text-primary-[0-9]\|border-primary-[0-9]" src/ --include="*.tsx" --include="*.ts" | wc -l

# ZERO excessive rounding
grep -rn "rounded-xl\|rounded-2xl\|rounded-3xl" src/ --include="*.tsx" --include="*.ts" | wc -l

# Phosphor coverage
grep -rn "@phosphor-icons/react" src/ --include="*.tsx" --include="*.ts" | wc -l

# Token verification
grep -c "\-\-primary: 0 0% 0%" src/index.css
grep -c "\-\-radius: 0.125rem" src/index.css
grep -c "\-\-sidebar: 220 20% 13%" src/index.css
```

3. **Report results.** If any zero-tolerance check returns non-zero, list the offending files.
  </action>
  <verify>All zero-tolerance checks return 0. Token verification returns 1 each. Phosphor count is 200+.</verify>
  <done>Build verification passes. Codebase audit confirms 100% migration.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of all page archetypes</name>
  <action>
User visually verifies the complete visual architecture rewrite:
- Cool neutral token palette (black primary, 2px radius, cool grays)
- Dark charcoal sidebar with Phosphor Icons (fill/regular weight states)
- All 200+ files migrated from Lucide to Phosphor Icons
- All ~264 hardcoded primary-NNN color classes replaced with semantic tokens
- All ~237 excessive rounding classes replaced with sharp radius
- List pages (Teachers, Students, Orchestras): identity strip + flush toolbar + flat table
- Detail pages (Teacher, Student, Orchestra): identity block + attached tab bar + continuous document
- Dashboard: asymmetric command center with dominant metric zone
- Management pages (Settings, Import, Ministry Reports): compact operational style

Run the app from Windows PowerShell: `npm run dev`

Check each archetype:

1. Sidebar — Visit any page: Dark charcoal background, near-white text. Active nav = filled icon + lighter pill. Inactive = outlined icons + muted text.

2. Dashboard (/ or /dashboard): One dominant metric zone (3-4x larger). Asymmetric layout. No equal card grid. No Card wrappers.

3. Teachers list (/teachers): Compact identity strip (title + count + add button). Toolbar flush with table. Flat table (no shadow, no rounded, no card wrapper). Strong row hover. Black add button.

4. Students list (/students): Same checks as Teachers.

5. Teacher detail (/teachers/:id): Identity block with bg-muted/40. Entity accent = thin border. Tab bar attached inside. Continuous document feel.

6. Student detail (/students/:id): Same as Teacher detail.

7. Settings (/settings): Compact, operational. No Card wrappers. Page title + dense sections.

8. Overall: Black buttons everywhere. Sharp 2px radius. No coral/amber/warm tint. Circular avatars preserved. NOT recognizable as shadcn/ui template.
  </action>
  <verify>User confirms all 10 success criteria pass visual inspection.</verify>
  <done>Phase 22 visual architecture rewrite is complete. User approves or identifies gaps for closure.</done>
</task>

</tasks>

<verification>
Build passes. All 10 success criteria verified by human.
</verification>

<success_criteria>
All 10 Phase 22 success criteria from the roadmap are met:
1. Every page has exactly one identifiable dominant zone
2. No page sections wrapped in Card components (except modals)
3. Table containers: no rounded corners, no shadows, no card wrappers
4. Single consistent button color system (black)
5. Icon usage follows Phosphor Icons exclusively
6. Dashboard: asymmetric layout, unequal column weights
7. List pages: toolbar flush with table, no gap, no hero zone
8. Detail pages: identity block + attached tab bar
9. Sidebar: tonally distinct, structural anchor
10. App is not recognizable as a shadcn/ui admin template
</success_criteria>

<output>
After completion, create `.planning/phases/22-visual-architecture-rewrite/22-15-SUMMARY.md`
</output>
