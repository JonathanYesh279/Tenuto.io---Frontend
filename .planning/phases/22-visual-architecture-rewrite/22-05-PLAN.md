---
phase: 22-visual-architecture-rewrite
plan: 05
type: execute
wave: 2
depends_on: ["22-01"]
files_modified:
  - src/components/forms/StudentForm.tsx
  - src/components/StudentForm.tsx
  - src/components/TeacherForm.tsx
  - src/components/OrchestraForm.tsx
  - src/components/RehearsalForm.tsx
  - src/components/TheoryLessonForm.tsx
  - src/components/BagrutForm.tsx
  - src/components/SimplifiedBagrutForm.tsx
  - src/components/AccompanistForm.tsx
  - src/components/EnhancedAccompanistForm.tsx
  - src/components/GradingForm.tsx
  - src/components/ProgramPieceForm.tsx
  - src/components/PresentationForm.tsx
  - src/components/form/AccessibleFormField.tsx
  - src/components/form/PhoneInput.tsx
  - src/components/form/TimeInput.tsx
  - src/components/form/InstrumentSelect.tsx
  - src/components/form/DurationSelect.tsx
  - src/components/form/DaySelect.tsx
  - src/components/form/ClassSelect.tsx
  - src/components/form/ValidationSummary.tsx
  - src/components/filters/FilterPanel.tsx
autonomous: true

must_haves:
  truths:
    - "No bg-primary-NNN hardcoded classes remain in any form component"
    - "No rounded-xl/2xl/3xl remains in form components — rounded-full preserved for pills"
    - "Form inputs use border-border and rounded (sharp) — not decorative rounding"
  artifacts:
    - path: "src/components/TeacherForm.tsx"
      provides: "Clean form with semantic tokens"
    - path: "src/components/forms/StudentForm.tsx"
      provides: "Clean form with semantic tokens"
  key_links:
    - from: "src/components/forms/*.tsx"
      to: "src/index.css"
      via: "Semantic token classes reading CSS vars"
      pattern: "bg-primary[^-]|border-border|rounded[^-]"
---

<objective>
Mechanical sweep of all form components and form field primitives — replace hardcoded primary-NNN colors and excessive rounding. Forms follow the Management Page archetype: compact, operational, no decoration.

Purpose: Forms are the operational core of the app. With 13 form components and 7 form field primitives, this sweep ensures the architectural shape language applies everywhere users input data.

Output: 22 form and form-field components cleaned
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/22-visual-architecture-rewrite/22-RESEARCH.md
@.planning/phases/22-visual-architecture-rewrite/22-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clean form components — primary-NNN colors and rounding</name>
  <files>src/components/forms/StudentForm.tsx, src/components/StudentForm.tsx, src/components/TeacherForm.tsx, src/components/OrchestraForm.tsx, src/components/RehearsalForm.tsx, src/components/TheoryLessonForm.tsx, src/components/BagrutForm.tsx, src/components/SimplifiedBagrutForm.tsx, src/components/AccompanistForm.tsx, src/components/EnhancedAccompanistForm.tsx, src/components/GradingForm.tsx, src/components/ProgramPieceForm.tsx, src/components/PresentationForm.tsx</files>
  <action>
Apply the same replacement rules as Plan 03 to all form components:

**Color replacements:** bg-primary-NNN → bg-primary/bg-black/bg-muted (context-dependent).
- Form submit buttons: `bg-primary text-primary-foreground hover:bg-neutral-800`
- Form section headers/accents: use entity color tokens if entity-specific, or `text-foreground` + `border-border` if generic
- Highlighted/selected states: `bg-muted` not `bg-primary-50`

**Rounding replacements:** rounded-xl/2xl/3xl/lg → rounded. Preserve rounded-full on avatar/badge elements.

**Form-specific considerations:**
- BagrutForm and SimplifiedBagrutForm have heavy primary-NNN usage (~10-17 instances) — be thorough
- Form section accent bars from Phase 21 (entity-colored left borders) should use the subdued entity color tokens — they still serve as section grouping
- Ensure form field inputs keep `rounded` (sharp 2px) and `border-input` — functional borders on form inputs per locked decision
  </action>
  <verify>Run `grep -rn "bg-primary-[0-9]\|text-primary-[0-9]\|rounded-xl\|rounded-2xl" src/components/forms/ src/components/StudentForm.tsx src/components/TeacherForm.tsx src/components/OrchestraForm.tsx src/components/RehearsalForm.tsx src/components/TheoryLessonForm.tsx src/components/BagrutForm.tsx src/components/SimplifiedBagrutForm.tsx src/components/AccompanistForm.tsx src/components/EnhancedAccompanistForm.tsx src/components/GradingForm.tsx src/components/ProgramPieceForm.tsx src/components/PresentationForm.tsx` — must return ZERO.</verify>
  <done>All 13 form components clean of hardcoded primary-NNN colors and excessive rounding.</done>
</task>

<task type="auto">
  <name>Task 2: Clean form field primitives and filter panel</name>
  <files>src/components/form/AccessibleFormField.tsx, src/components/form/PhoneInput.tsx, src/components/form/TimeInput.tsx, src/components/form/InstrumentSelect.tsx, src/components/form/DurationSelect.tsx, src/components/form/DaySelect.tsx, src/components/form/ClassSelect.tsx, src/components/form/ValidationSummary.tsx, src/components/filters/FilterPanel.tsx</files>
  <action>
Apply same replacement rules to form field primitives:

- `bg-primary-NNN` → semantic tokens
- `rounded-xl/lg` → `rounded`
- Preserve `rounded-full` on pills/badges
- FilterPanel.tsx often has primary-NNN on filter chips and active states — replace with `bg-primary text-primary-foreground` for active, `bg-muted text-muted-foreground` for inactive

Form field primitives should all use:
- `rounded` for the input container (sharp 2px per locked decision)
- `border-input` for borders (functional borders on form inputs per locked decision)
- `focus:ring-ring` for focus states
  </action>
  <verify>Run `grep -rn "bg-primary-[0-9]\|rounded-xl\|rounded-2xl" src/components/form/ src/components/filters/` — must return ZERO.</verify>
  <done>All form field primitives and filter panel clean. Sharp radius, semantic tokens, functional borders.</done>
</task>

</tasks>

<verification>
1. `grep -rn "bg-primary-[0-9]" src/components/form/ src/components/forms/ src/components/filters/ src/components/*Form.tsx` returns zero
2. `grep -rn "rounded-xl\|rounded-2xl" src/components/form/ src/components/forms/ src/components/filters/ src/components/*Form.tsx` returns zero
3. Form inputs retain `rounded` class (2px sharp) and `border-input`
</verification>

<success_criteria>
- Zero hardcoded primary-NNN in all form components and form field primitives
- Zero excessive rounding in forms
- Form inputs use functional borders (rounded + border-input)
- Form submit buttons use bg-primary (black)
</success_criteria>

<output>
After completion, create `.planning/phases/22-visual-architecture-rewrite/22-05-SUMMARY.md`
</output>
