---
phase: 22-visual-architecture-rewrite
plan: 10
type: execute
wave: 3
depends_on: ["22-02", "22-03", "22-04"]
files_modified:
  - src/pages/Teachers.tsx
  - src/pages/Students.tsx
  - src/pages/Orchestras.tsx
  - src/components/ui/ListPageHero.tsx
autonomous: true

must_haves:
  truths:
    - "List pages have NO hero zone — ListPageHero component is eliminated from these pages"
    - "Each list page has a compact identity strip (title + count + action button) in ONE line"
    - "Toolbar is flush with table — zero vertical gap between search/filters and table header"
    - "Table has no card wrapper, no rounded corners, no shadow"
    - "Strong row hover is visible on table rows"
  artifacts:
    - path: "src/pages/Teachers.tsx"
      provides: "List page archetype — identity strip + flush toolbar + flat table"
    - path: "src/pages/Students.tsx"
      provides: "List page archetype — identity strip + flush toolbar + flat table"
    - path: "src/pages/Orchestras.tsx"
      provides: "List page archetype — identity strip + flush toolbar + flat table"
  key_links:
    - from: "src/pages/Teachers.tsx"
      to: "src/components/ui/Table.tsx"
      via: "Table rendered without Card wrapper, flush below toolbar"
      pattern: "<Table"
---

<objective>
Implement the List Page archetype on Teachers, Students, and Orchestras pages. Eliminate the ListPageHero hero zone. Replace with compact identity strip. Make toolbar flush with table. Flat table surface with strong row hover.

Purpose: List pages are the most-visited pages in the app. The current hero zone + gap + card-wrapped table pattern is the most recognizable "admin template" anti-pattern. This plan eliminates it entirely. The table becomes the page.

Output: Three list pages restructured to archetype specification
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ARCHETYPES.md
@.planning/phases/22-visual-architecture-rewrite/22-RESEARCH.md
@.planning/phases/22-visual-architecture-rewrite/22-03-SUMMARY.md
@.planning/phases/22-visual-architecture-rewrite/22-04-SUMMARY.md
@src/pages/Teachers.tsx
@src/pages/Students.tsx
@src/pages/Orchestras.tsx
@src/components/ui/ListPageHero.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restructure Teachers and Students list pages to archetype</name>
  <files>src/pages/Teachers.tsx, src/pages/Students.tsx</files>
  <action>
For BOTH Teachers.tsx and Students.tsx, restructure from current hero+gap+table to identity-strip+flush-toolbar+flat-table:

**Step 1: Remove ListPageHero usage.**
- Delete the `<ListPageHero>` component call and its metrics array
- Remove the ListPageHero import
- Extract the key metric (active count) for the identity strip

**Step 2: Create compact identity strip.**
Replace the hero zone with a single-line strip:
```tsx
<div className="flex items-center justify-between py-3 border-b border-border">
  <div className="flex items-center gap-3">
    <h1 className="text-lg font-semibold text-foreground">מורים</h1>
    <span className="text-sm text-muted-foreground">{activeCount} פעילים</span>
  </div>
  <button
    onClick={onAdd}
    className="flex items-center gap-2 px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm font-medium hover:bg-neutral-800 transition-colors"
  >
    <PlusIcon size={14} weight="fill" />
    הוסף מורה
  </button>
</div>
```

For Students.tsx, change "מורים" to "תלמידים" and "הוסף מורה" to "הוסף תלמיד", adjust count source.

**Step 3: Make toolbar flush with table.**
- Remove any margin/padding gap between the search/filter bar and the table
- Toolbar should be `border-b border-border py-2` — sits directly above the table header
- No Card wrapper around the toolbar or table

**Step 4: Flatten table.**
- Remove any Card wrapper around `<Table>` if one exists
- Table container: `rounded-none border-0 shadow-none`
- Ensure row hover is `hover:bg-muted` (strong, visible)
- Hairline dividers: `divide-y divide-border` on table body

**Step 5: Import Phosphor PlusIcon if not already imported.**
```tsx
import { PlusIcon } from '@phosphor-icons/react'
```
Replace the lucide `Plus` import for the add button icon.

Preserve ALL existing data fetching, filtering, pagination, and table column logic. Only change layout structure and styling.
  </action>
  <verify>
1. Grep for `ListPageHero` in Teachers.tsx and Students.tsx — ZERO results
2. Grep for `PlusIcon` in both files — confirms Phosphor icon used
3. Visual structure: identity strip → toolbar → table with zero gaps
  </verify>
  <done>Teachers and Students pages follow List Page archetype. No hero zone. Compact identity strip. Flush toolbar. Flat table.</done>
</task>

<task type="auto">
  <name>Task 2: Restructure Orchestras list page and deprecate ListPageHero</name>
  <files>src/pages/Orchestras.tsx, src/components/ui/ListPageHero.tsx</files>
  <action>
**Step 1: Restructure Orchestras.tsx** using the same pattern as Task 1:
- Remove ListPageHero usage
- Add compact identity strip (title "תזמורות" + count + add button)
- Flush toolbar with table
- Flat table surface

**Step 2: Deprecate ListPageHero.tsx.**
Add a deprecation comment at the top of ListPageHero.tsx:
```tsx
/**
 * @deprecated Phase 22 — ListPageHero is no longer used. List pages use compact identity strips.
 * This component is retained temporarily for any remaining references.
 * Target: remove entirely once all list pages are confirmed migrated.
 */
```

Do NOT delete the component file yet — other pages (TheoryLessons, Rehearsals, Bagruts) may still import it. Those are secondary list pages that follow the same pattern but will be addressed in Plan 12 (remaining pages). For now, just deprecate and ensure the three main entity list pages don't use it.
  </action>
  <verify>
1. Grep for `ListPageHero` in Orchestras.tsx — ZERO results
2. ListPageHero.tsx has `@deprecated` comment at top
3. Grep for `ListPageHero` in Teachers.tsx, Students.tsx, Orchestras.tsx — all ZERO
  </verify>
  <done>Orchestras page follows List Page archetype. ListPageHero deprecated. All three main entity list pages are archetype-compliant.</done>
</task>

</tasks>

<verification>
1. `grep -rn "ListPageHero" src/pages/Teachers.tsx src/pages/Students.tsx src/pages/Orchestras.tsx` returns zero
2. Each page has identity strip with `text-lg font-semibold` title and inline count
3. No Card wrapper around tables in these three pages
4. Table rows have visible hover state
</verification>

<success_criteria>
- ListPageHero eliminated from Teachers, Students, Orchestras pages
- Each page has compact identity strip (title + count + action button)
- Toolbar is flush with table — zero gap
- Table is flat: no shadow, no rounded corners, no card wrapper
- Strong row hover visible
- PlusIcon from Phosphor used for add buttons
</success_criteria>

<output>
After completion, create `.planning/phases/22-visual-architecture-rewrite/22-10-SUMMARY.md`
</output>
