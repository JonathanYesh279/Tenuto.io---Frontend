---
phase: 18-typography-scale-and-color-evolution
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/index.css
  - tailwind.config.js
autonomous: true

must_haves:
  truths:
    - "Entity color CSS vars exist in :root for students, teachers, orchestras, rehearsals, bagrut, and theory — each with bg and fg pairs"
    - "Sidebar CSS vars are updated to white/light values — --sidebar is white, --sidebar-foreground is near-black"
    - "Tailwind utilities bg-students-bg, text-teachers-fg, etc. work for all 6 entity types"
    - "Background token is updated to a cooler, lighter value that harmonizes with the pastel system"
    - "New sidebar-border, sidebar-active-bg, sidebar-active-fg, and sidebar-label tokens exist in :root"
  artifacts:
    - path: "src/index.css"
      provides: "Entity color vars and updated sidebar vars in :root"
      contains: "--color-students"
    - path: "tailwind.config.js"
      provides: "Entity color Tailwind utilities"
      contains: "students"
  key_links:
    - from: "tailwind.config.js"
      to: "src/index.css"
      via: "hsl(var(--color-entity)) pattern"
      pattern: "hsl\\(var\\(--color-"
---

<objective>
Define the complete multi-color pastel token system and updated sidebar tokens in CSS custom properties, then wire them through Tailwind config as utility classes.

Purpose: This is the foundation layer for Phase 18's visual transformation. Every subsequent plan (sidebar restyle, layout shell, StatsCard) consumes these tokens. The entity color system replaces the monochrome coral identity with a per-entity pastel palette. The sidebar token update (dark to white) enables the light sidebar restyle in plan 18-02.

Output: Updated `src/index.css` with entity color vars + sidebar vars; updated `tailwind.config.js` with entity color Tailwind utilities.
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-typography-scale-and-color-evolution/18-RESEARCH.md
@.planning/phases/16-token-foundation/16-01-SUMMARY.md
@src/index.css
@tailwind.config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add entity color CSS vars and update sidebar/background tokens in :root</name>
  <files>src/index.css</files>
  <action>
Add the following new CSS custom properties inside the existing `:root` block in `src/index.css`, after the shadow scale vars (after line 68). These are raw HSL channel values (NOT full hsl() — they follow the semantic var pattern, consumed via `hsl(var(--token))` in Tailwind config).

**Entity color system — add these vars:**
```css
/* Entity color system (Phase 18 — multi-color pastel palette) */
/* Raw HSL channels — consumed via hsl(var(--color-*)) in Tailwind config */
--color-students-bg:      252 80% 94%;   /* violet pastel */
--color-students-fg:      252 60% 45%;   /* violet saturated */
--color-teachers-bg:      200 75% 92%;   /* sky blue pastel */
--color-teachers-fg:      200 70% 38%;   /* sky blue saturated */
--color-orchestras-bg:    45 90% 90%;    /* amber/yellow pastel */
--color-orchestras-fg:    38 80% 38%;    /* amber saturated */
--color-rehearsals-bg:    340 70% 92%;   /* rose pastel */
--color-rehearsals-fg:    340 60% 42%;   /* rose saturated */
--color-bagrut-bg:        145 60% 88%;   /* green pastel */
--color-bagrut-fg:        145 55% 32%;   /* green saturated */
--color-theory-bg:        170 65% 88%;   /* teal pastel */
--color-theory-fg:        170 60% 32%;   /* teal saturated */
```

**Update existing sidebar tokens (replace current values on lines 42-43):**
```css
--sidebar: 0 0% 100%;               /* white (was: 220 25% 18% dark navy) */
--sidebar-foreground: 220 15% 20%;  /* near-black text (was: 30 25% 97% light) */
```

**Add new sidebar tokens (after --sidebar-foreground):**
```css
--sidebar-border: 220 13% 91%;      /* subtle gray border */
--sidebar-active-bg: 252 80% 94%;   /* violet pill — matches students entity */
--sidebar-active-fg: 252 60% 45%;   /* violet text when active */
--sidebar-label: 220 10% 55%;       /* section label color (category headers) */
```

**Update background token (line 22):**
Change `--background: 30 25% 97%;` to `--background: 210 17% 98%;` — cooler very-light-gray that harmonizes with the new pastel system instead of the warm coral-tinted off-white.

**IMPORTANT:**
- Entity color vars use raw HSL channels (no `hsl()` wrapper) — they will be consumed as `hsl(var(--color-students-bg))` in Tailwind config
- Keep all existing Phase 16 tokens (surface, neutral, shadow) untouched
- Keep all other existing vars untouched except --background and --sidebar/--sidebar-foreground
  </action>
  <verify>
Read src/index.css and confirm:
1. All 12 entity color vars exist (6 entities x bg/fg)
2. --sidebar is `0 0% 100%`
3. --sidebar-foreground is `220 15% 20%`
4. 4 new sidebar tokens exist (--sidebar-border, --sidebar-active-bg, --sidebar-active-fg, --sidebar-label)
5. --background is updated to `210 17% 98%`
6. All Phase 16 tokens remain unchanged
  </verify>
  <done>:root contains 12 entity color vars, 4 new sidebar tokens, updated --sidebar, --sidebar-foreground, and --background values — all using raw HSL channel format</done>
</task>

<task type="auto">
  <name>Task 2: Wire entity color tokens into Tailwind config as utility classes</name>
  <files>tailwind.config.js</files>
  <action>
Add entity color mappings to the `extend.colors` object in `tailwind.config.js`. Place them after the `sidebar` entry (around line 39) and before the existing palette entries.

```js
// Entity color system (Phase 18 — multi-color pastel palette)
students: {
  bg: "hsl(var(--color-students-bg))",
  fg: "hsl(var(--color-students-fg))",
},
teachers: {
  bg: "hsl(var(--color-teachers-bg))",
  fg: "hsl(var(--color-teachers-fg))",
},
orchestras: {
  bg: "hsl(var(--color-orchestras-bg))",
  fg: "hsl(var(--color-orchestras-fg))",
},
rehearsals: {
  bg: "hsl(var(--color-rehearsals-bg))",
  fg: "hsl(var(--color-rehearsals-fg))",
},
bagrut: {
  bg: "hsl(var(--color-bagrut-bg))",
  fg: "hsl(var(--color-bagrut-fg))",
},
theory: {
  bg: "hsl(var(--color-theory-bg))",
  fg: "hsl(var(--color-theory-fg))",
},
```

Also add sidebar sub-tokens to the existing `sidebar` entry:
```js
sidebar: {
  DEFAULT: "hsl(var(--sidebar))",
  foreground: "hsl(var(--sidebar-foreground))",
  border: "hsl(var(--sidebar-border))",
  "active-bg": "hsl(var(--sidebar-active-bg))",
  "active-fg": "hsl(var(--sidebar-active-fg))",
  label: "hsl(var(--sidebar-label))",
},
```

This enables clean utility usage like:
- `bg-students-bg text-students-fg` for student-colored elements
- `bg-sidebar-active-bg text-sidebar-active-fg` for active nav items
- `border-sidebar-border` for sidebar borders
- `text-sidebar-label` for category headers

**Do NOT modify any existing color entries (primary, secondary, success, orange, purple, gray).**
  </action>
  <verify>
Read tailwind.config.js and confirm:
1. All 6 entity color entries exist (students, teachers, orchestras, rehearsals, bagrut, theory) with bg and fg sub-keys
2. Sidebar entry has 6 sub-keys (DEFAULT, foreground, border, active-bg, active-fg, label)
3. All existing color entries are preserved unchanged
4. The hsl(var(--color-*)) pattern is used consistently
  </verify>
  <done>Tailwind config exposes bg-students-bg, text-teachers-fg, bg-sidebar-active-bg, text-sidebar-label, and all other entity/sidebar utility classes via CSS var references</done>
</task>

</tasks>

<verification>
1. All 12 entity color CSS vars present in :root (grep for `--color-students`, `--color-teachers`, etc.)
2. Sidebar vars updated to light values (--sidebar: 0 0% 100%)
3. 4 new sidebar sub-tokens exist (--sidebar-border, --sidebar-active-bg, --sidebar-active-fg, --sidebar-label)
4. Background updated to cooler `210 17% 98%`
5. Tailwind config has 6 entity color entries + expanded sidebar entry
6. All Phase 16 tokens (surface, neutral, shadow) remain unchanged
7. All existing color palettes (primary, secondary, success, etc.) unchanged
</verification>

<success_criteria>
- Entity color token utilities (bg-students-bg, text-teachers-fg, etc.) are available for Tailwind consumption
- Sidebar tokens are wired for white/light sidebar rendering
- Background is updated to a cooler palette foundation
- Zero blast radius on existing styles — all changes are additive or surgical updates to sidebar/background vars
</success_criteria>

<output>
After completion, create `.planning/phases/18-typography-scale-and-color-evolution/18-01-SUMMARY.md`
</output>
