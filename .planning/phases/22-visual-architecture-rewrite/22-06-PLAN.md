---
phase: 22-visual-architecture-rewrite
plan: 06
type: execute
wave: 2
depends_on: ["22-01"]
files_modified:
  - src/components/dashboard/MainDashboard.tsx
  - src/components/dashboard/RealDataDashboard.tsx
  - src/components/dashboard/SuperAdminDashboard.tsx
  - src/components/dashboard/TeacherDashboard.tsx
  - src/components/dashboard/TheoryTeacherDashboard.tsx
  - src/components/dashboard/ConductorDashboard.tsx
  - src/components/dashboard/BagrutDashboard.tsx
  - src/components/dashboard/AttendanceDashboard.tsx
  - src/components/dashboard/StatCard.tsx
  - src/components/dashboard/DashboardRefresh.tsx
  - src/components/dashboard/RecentActivity.tsx
  - src/components/dashboard/StudentStatistics.tsx
  - src/components/dashboard/TeacherStatistics.tsx
  - src/components/dashboard/LessonStatistics.tsx
  - src/components/dashboard/charts/DailyTeacherRoomTable.tsx
  - src/components/dashboard/charts/TeacherRoomSchedule.tsx
  - src/components/dashboard/charts/StudentActivityCharts.tsx
  - src/components/dashboard/charts/InstrumentDistributionChart.tsx
  - src/components/dashboard/charts/ClassDistributionChart.tsx
  - src/components/dashboard/charts/BagrutProgressDashboard.tsx
  - src/components/dashboard/charts/AttendanceTrendsChart.tsx
  - src/components/dashboard/widgets/UpcomingEventsWidget.tsx
  - src/components/dashboard/widgets/RecentActivityWidget.tsx
  - src/components/dashboard/index.ts
autonomous: true

must_haves:
  truths:
    - "No bg-primary-NNN hardcoded classes remain in dashboard components"
    - "No rounded-xl/2xl/3xl in dashboard components — rounded-full preserved"
    - "No Card imports used decoratively in dashboard — Card kept only if wrapping widget content"
    - "StatCard uses semantic tokens, no vivid pastel backgrounds"
  artifacts:
    - path: "src/components/dashboard/MainDashboard.tsx"
      provides: "Dashboard cleaned of hardcoded styles"
    - path: "src/components/dashboard/StatCard.tsx"
      provides: "StatCard with subdued colors and no decorative shadow"
  key_links:
    - from: "src/components/dashboard/*.tsx"
      to: "src/index.css"
      via: "Semantic tokens"
      pattern: "bg-primary[^-]|bg-muted|border-border"
---

<objective>
Sweep all dashboard sub-components — stat cards, charts, widgets, dashboards — for hardcoded primary-NNN colors, excessive rounding, and decorative Card usage. This is the component-level cleanup; the full Dashboard archetype restructuring (asymmetric command center) comes in Plan 09.

Purpose: The dashboard has 24 component files with significant hardcoded styles. Cleaning these now means the archetype restructuring in Plan 09 works with clean components, not fighting two battles at once.

Output: 24 dashboard component files cleaned
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/22-visual-architecture-rewrite/22-RESEARCH.md
@.planning/phases/22-visual-architecture-rewrite/22-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clean dashboard layout and stat components</name>
  <files>src/components/dashboard/MainDashboard.tsx, src/components/dashboard/RealDataDashboard.tsx, src/components/dashboard/SuperAdminDashboard.tsx, src/components/dashboard/TeacherDashboard.tsx, src/components/dashboard/TheoryTeacherDashboard.tsx, src/components/dashboard/ConductorDashboard.tsx, src/components/dashboard/BagrutDashboard.tsx, src/components/dashboard/AttendanceDashboard.tsx, src/components/dashboard/StatCard.tsx, src/components/dashboard/DashboardRefresh.tsx, src/components/dashboard/RecentActivity.tsx, src/components/dashboard/StudentStatistics.tsx, src/components/dashboard/TeacherStatistics.tsx, src/components/dashboard/LessonStatistics.tsx</files>
  <action>
Apply standard replacement rules to all dashboard layout components:

**Color replacements:** bg-primary-NNN → semantic tokens. Same mapping as Plan 03.
**Rounding replacements:** rounded-xl/2xl/3xl/lg → rounded. Preserve rounded-full.

**StatCard.tsx specific:**
- Remove shadow-1/shadow-2 from stat cards — flat surface
- If StatCard has `coloredBg` mode that adds vivid pastel backgrounds, ensure it reads from the subdued entity CSS vars
- StatCard should feel like a data indicator, not a decorative widget

**DashboardRefresh.tsx:** Has 4 bg-primary-NNN instances — likely buttons/status indicators. Replace all with semantic tokens.

**Card usage audit:**
- For each dashboard component that imports Card, check if the Card wraps page-level content (REMOVE) or dialog/popover content (KEEP)
- At this stage, simply replace `<Card>` usage on page sections with `<div>` or `<section>` with appropriate spacing classes. Keep Card imports for modal content.
- When removing Card from a section, add section heading + spacing as visual grouping: `<section className="py-4">` or similar

**Do NOT restructure the dashboard layout** (grid, column arrangement) — that's Plan 09. This plan only cleans token/style/Card usage.
  </action>
  <verify>Run `grep -rn "bg-primary-[0-9]\|rounded-xl\|rounded-2xl" src/components/dashboard/MainDashboard.tsx src/components/dashboard/StatCard.tsx src/components/dashboard/DashboardRefresh.tsx src/components/dashboard/SuperAdminDashboard.tsx` — must return ZERO.</verify>
  <done>All dashboard stat/layout components clean of hardcoded styles. StatCard is flat with subdued colors.</done>
</task>

<task type="auto">
  <name>Task 2: Clean dashboard charts and widget components</name>
  <files>src/components/dashboard/charts/DailyTeacherRoomTable.tsx, src/components/dashboard/charts/TeacherRoomSchedule.tsx, src/components/dashboard/charts/StudentActivityCharts.tsx, src/components/dashboard/charts/InstrumentDistributionChart.tsx, src/components/dashboard/charts/ClassDistributionChart.tsx, src/components/dashboard/charts/BagrutProgressDashboard.tsx, src/components/dashboard/charts/AttendanceTrendsChart.tsx, src/components/dashboard/widgets/UpcomingEventsWidget.tsx, src/components/dashboard/widgets/RecentActivityWidget.tsx, src/components/dashboard/index.ts</files>
  <action>
Apply standard replacement rules to all chart and widget components:

**Color replacements:** bg-primary-NNN → semantic tokens.
**Rounding replacements:** rounded-xl/2xl/3xl/lg → rounded. Preserve rounded-full.

**Chart components:** Charts use Recharts/custom SVGs. The primary concern is wrapper classes (Card, rounded, shadow), not the chart internals. Clean wrapper classes.

**Widget components (UpcomingEventsWidget, RecentActivityWidget):**
- Remove Card wrappers if they wrap the entire widget section
- Replace with `<section>` with heading + spacing
- These widgets were built in Phase 19 — check for vivid pastel references and replace

**Card import cleanup in dashboard/index.ts:** If index.ts re-exports Card from ui, leave it — other modules may still import it.
  </action>
  <verify>Run `grep -rn "bg-primary-[0-9]\|rounded-xl\|rounded-2xl" src/components/dashboard/charts/ src/components/dashboard/widgets/` — must return ZERO.</verify>
  <done>All dashboard chart and widget components clean. Wrappers simplified. No decorative Card usage or hardcoded primary colors.</done>
</task>

</tasks>

<verification>
1. `grep -rn "bg-primary-[0-9]" src/components/dashboard/` returns zero
2. `grep -rn "rounded-xl\|rounded-2xl" src/components/dashboard/` returns zero
3. StatCard.tsx has no shadow-1/shadow-2
</verification>

<success_criteria>
- Zero hardcoded primary-NNN in all dashboard components
- Zero excessive rounding in dashboard components
- StatCard is flat (no decorative shadow)
- Card usage reduced to modals/popovers only within dashboard components
</success_criteria>

<output>
After completion, create `.planning/phases/22-visual-architecture-rewrite/22-06-SUMMARY.md`
</output>
