---
phase: 05-audit-claude-skills-and-gsd-workflow-agents
plan: 03
type: execute
wave: 2
depends_on: ["05-01", "05-02"]
files_modified:
  - .claude/ARCHITECTURE.md
autonomous: true

must_haves:
  truths:
    - "MEMORY.md focuses on patterns/gotchas, not progress tracking"
    - "Architecture document maps what each layer does and where things live"
    - "settings.local.json has no stale directory references"
  artifacts:
    - path: ".claude/ARCHITECTURE.md"
      provides: "Map of Claude configuration ecosystem"
  key_links: []
---

<objective>
Consolidate MEMORY.md to remove progress duplication, clean settings.local.json, and create the architecture document.

Purpose: Establish clean single-source-of-truth patterns and document the Claude configuration ecosystem for future maintainability.
Output: Updated MEMORY.md, cleaned settings, and new ARCHITECTURE.md.
</objective>

<execution_context>
@/home/yona279/.claude/get-shit-done/workflows/execute-plan.md
@/home/yona279/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/05-audit-claude-skills-and-gsd-workflow-agents/05-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Consolidate MEMORY.md and clean settings.local.json</name>
  <files>
    MEMORY.md (at /home/yona279/.claude/projects/-mnt-c-Users-yona2-Documents-Tenuto-io-Tenuto-io-Frontend/memory/MEMORY.md)
    .claude/settings.local.json
  </files>
  <action>
    **MEMORY.md consolidation** per user decision: "STATE.md is canonical for project progress — MEMORY.md should reference it, not duplicate progress data."

    Restructure MEMORY.md to have these sections:
    1. **Project Status** — Single line: "See `.planning/STATE.md` for current progress." No duplicated checklists.
    2. **Key Files** — Keep this section as-is (useful quick reference)
    3. **Patterns** — Keep as-is (valuable codebase knowledge)
    4. **Gotchas** — Keep as-is (critical warnings, especially the backend path and case sensitivity)

    Remove from MEMORY.md:
    - "Phases Overview (original)" checklist (duplicates STATE.md)
    - "v1.1 Cleanup & Polish" checklist (duplicates STATE.md)
    - The "Current Phase" and "Status" headers at the top (STATE.md is canonical)

    **settings.local.json cleanup:**
    1. Remove stale `additionalDirectories` entries that point to old paths:
       - `/mnt/c/Projects/conservatory-app/Frontend` (old repo location)
       - `/mnt/c/Projects/conservatory-app/Backend` (old repo location)
       - `/mnt/c/Projects/conservatory-app-BACKUP-20250826-221327` (backup, not needed)
       - `/mnt/c/Projects/BACKUP-20250826-221714` (backup, not needed)
    2. Remove duplicate `allow` entries (there are duplicates for: `mkdir`, `npm run typecheck`, `rm`, `grep`, `Read(/mnt/c/Projects/conservatory-app/**)`)
    3. Remove stale `allow` entries that reference old paths (`Read(//mnt/c/Projects/conservatory-app/**)`, etc.)
    4. Keep all entries referencing current paths (`/mnt/c/Users/yona2/Documents/Tenuto.io/`)

    Note: settings.local.json changes affect Claude Code behavior. Be conservative — only remove clearly stale/duplicate entries.
  </action>
  <verify>
    Run: `grep -c "Phases Overview" /home/yona279/.claude/projects/-mnt-c-Users-yona2-Documents-Tenuto-io-Tenuto-io-Frontend/memory/MEMORY.md` — should return 0
    Run: `grep "STATE.md" /home/yona279/.claude/projects/-mnt-c-Users-yona2-Documents-Tenuto-io-Tenuto-io-Frontend/memory/MEMORY.md` — should find reference
    Run: `grep -c "conservatory-app" .claude/settings.local.json` — should return 0 (old paths removed)
  </verify>
  <done>
    MEMORY.md focuses on patterns/gotchas with a pointer to STATE.md for progress. settings.local.json has no stale directory references or duplicate entries.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create .claude/ARCHITECTURE.md documenting the configuration ecosystem</name>
  <files>.claude/ARCHITECTURE.md</files>
  <action>
    Per user decision: "Create a `.claude/ARCHITECTURE.md` after cleanup that maps: what each layer does, where things live, how they connect."

    Create `.claude/ARCHITECTURE.md` with these sections:

    **1. Overview** — Brief description: This document maps the Claude Code configuration ecosystem for the Tenuto.io frontend project.

    **2. Configuration Layers**

    | Layer | Location | Purpose |
    |-------|----------|---------|
    | Project instructions | `CLAUDE.md` (repo root) | Stable project conventions, patterns, commit workflow |
    | Session memory | `~/.claude/projects/.../memory/MEMORY.md` | Patterns, gotchas, key file references |
    | Project state | `.planning/STATE.md` | Canonical progress tracking (single source of truth) |
    | Project context | `.planning/PROJECT.md` | What the project is, core value, constraints |
    | Requirements | `.planning/REQUIREMENTS.md` | Requirement traceability |
    | Roadmap | `.planning/ROADMAP.md` | Phase-level planning and status |
    | Codebase docs | `.planning/codebase/*.md` | 7 documents: Architecture, Concerns, Conventions, Integrations, Stack, Structure, Testing |
    | GSD config | `.planning/config.json` | GSD workflow settings (mode, models, research toggle) |
    | Phase artifacts | `.planning/phases/XX-*/` | Per-phase: CONTEXT, PLAN, SUMMARY, REPORT files |
    | Skills | `.claude/skills/*/SKILL.md` | Domain-specific Claude capabilities |
    | Settings | `.claude/settings.json` | Plugin enablement |
    | Local settings | `.claude/settings.local.json` | Permissions, allowed directories (gitignored) |
    | Implementation guides | `.claude/*.md` | Reference specs (FRONTEND_IMPLEMENTATION_GUIDE, PLAYWRIGHT_TEST_GUIDE, etc.) |

    **3. Skills Inventory**

    | Skill | Purpose | Relevance |
    |-------|---------|-----------|
    | `ui-ux-pro-max` | Design intelligence with searchable database | General — useful for UI work |
    | `docs-explorer` | Browse official docs for frontend libraries | High — matches project stack |
    | `frontend-aesthetics` | Distinctive UI aesthetics | Low — generic, but harmless |
    | `frontend-tailwind` | Tailwind + React conventions | High — matches project stack exactly |

    **4. GSD Workflow Integration**

    Brief description of how the GSD system connects:
    - `.planning/config.json` configures workflow behavior
    - `/gsd:discuss-phase` produces CONTEXT.md
    - `/gsd:plan-phase` produces PLAN.md files
    - `/gsd:execute-phase` executes plans, produces SUMMARY.md
    - `/gsd:verify-phase` checks completion
    - GSD internals live outside this repo (in `~/.claude/get-shit-done/`)

    **5. Single Source of Truth Rules**

    | Data | Canonical Location | Do NOT duplicate in |
    |------|--------------------|---------------------|
    | Current progress | `.planning/STATE.md` | MEMORY.md, CLAUDE.md |
    | Phase status | `.planning/ROADMAP.md` | MEMORY.md |
    | Project identity | `.planning/PROJECT.md` | CLAUDE.md |
    | Patterns & gotchas | `MEMORY.md` | — |
    | Stable instructions | `CLAUDE.md` | — |

    **6. File Lifecycle**

    - One-time task prompts: Delete after work is complete
    - Phase artifacts: Keep for history (SUMMARYs have long-term value)
    - Skills: Keep if relevant to project stack, delete if for wrong project
    - Implementation guides: Keep as reference even after work is done
  </action>
  <verify>
    Run: `test -f .claude/ARCHITECTURE.md && echo "PASS" || echo "FAIL"`
    Run: `grep -c "Single Source of Truth" .claude/ARCHITECTURE.md` — should return at least 1
    Run: `grep -c "Skills Inventory" .claude/ARCHITECTURE.md` — should return at least 1
  </verify>
  <done>
    ARCHITECTURE.md exists at .claude/ARCHITECTURE.md with complete mapping of configuration layers, skills inventory, GSD integration, and single-source-of-truth rules.
  </done>
</task>

</tasks>

<verification>
1. MEMORY.md has no duplicated progress checklists
2. MEMORY.md references STATE.md for progress
3. settings.local.json has no references to old conservatory-app paths
4. ARCHITECTURE.md exists with all required sections
5. ARCHITECTURE.md documents the single source of truth principle
</verification>

<success_criteria>
- MEMORY.md is lean: patterns + gotchas + pointers, no progress duplication
- settings.local.json cleaned of stale entries
- ARCHITECTURE.md provides complete ecosystem map
- Single source of truth principle documented and followed
</success_criteria>

<output>
After completion, create `.planning/phases/05-audit-claude-skills-and-gsd-workflow-agents/05-03-SUMMARY.md`
</output>
